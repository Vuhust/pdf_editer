<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PDFix â€“ PDF Editor</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="tooltip" class="tooltip" role="tooltip"></div>

  <div class="app">
    <!-- â”€â”€ Row 1: Brand + File + Page nav â”€â”€ -->
    <div class="navbar-top">
      <div class="brand">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="3" y="2" width="13" height="17" rx="2" fill="#7aa2f7"/><rect x="8" y="7" width="12" height="15" rx="2" fill="#24283b" stroke="#7aa2f7" stroke-width="1.5"/><path d="M11 12h6M11 15h4" stroke="#7aa2f7" stroke-width="1.5" stroke-linecap="round"/></svg>
        <span class="brand-name">PDFix</span>
      </div>

      <div class="divider-v"></div>

      <label class="btn btn-file"
        data-tooltip="Má»Ÿ file PDF tá»« mÃ¡y tÃ­nh&#10;File khÃ´ng Ä‘Æ°á»£c upload lÃªn server">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
        Open PDF
        <input type="file" id="fileInput" accept="application/pdf" hidden>
      </label>

      <div class="divider-v"></div>

      <div class="page-nav">
        <button type="button" class="btn btn-icon" id="prevPage"
          data-tooltip="Trang trÆ°á»›c">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
        </button>
        <input type="number" id="pageNum" min="1" value="1" class="page-num">
        <span class="page-info" id="pageInfo">/ â€”</span>
        <button type="button" class="btn btn-icon" id="nextPage"
          data-tooltip="Trang tiáº¿p theo">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
        </button>
      </div>

      <div class="spacer"></div>

      <button type="button" class="btn btn-save" id="savePdf"
        data-tooltip="ðŸ’¾ LÆ°u file PDF&#10;â€¢ Giá»¯ nguyÃªn cháº¥t lÆ°á»£ng PDF gá»‘c&#10;â€¢ Chá»¯ thÃªm lÃ  vector&#10;â€¢ Ã” che lÃ  hÃ¬nh chá»¯ nháº­t tráº¯ng vector">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
        Save PDF
      </button>
    </div>

    <!-- â”€â”€ Row 2: Tools â”€â”€ -->
    <div class="navbar-tools">

      <!-- Group: Draw tools -->
      <div class="tool-group">
        <span class="tool-group-label">Tools</span>
        <div class="tool-group-btns">
          <button type="button" class="btn btn-tool active" data-tool="select"
            data-tooltip="â†– Chá»n &amp; Di chuyá»ƒn&#10;â€¢ Click Ä‘á»ƒ chá»n Ä‘á»‘i tÆ°á»£ng&#10;â€¢ KÃ©o Ä‘á»ƒ di chuyá»ƒn&#10;â€¢ Double-click vÃ o chá»¯ Ä‘á»ƒ sá»­a&#10;â€¢ Delete Ä‘á»ƒ xÃ³a">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M4 0l16 12-7 1.5L9 22 4 0z"/></svg>
          </button>
          <button type="button" class="btn btn-tool" data-tool="text"
            data-tooltip="T ThÃªm chá»¯&#10;â€¢ Click vÃ o trang Ä‘á»ƒ Ä‘áº·t text&#10;â€¢ Chá»n cá»¡ Font vÃ  Color trÆ°á»›c&#10;â€¢ Double-click vÃ o chá»¯ cÅ© Ä‘á»ƒ sá»­a">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M4 7V4h16v3M9 20h6M12 4v16"/></svg>
          </button>
          <button type="button" class="btn btn-tool" data-tool="draw"
            data-tooltip="âœŽ Váº½ tá»± do&#10;â€¢ Giá»¯ vÃ  kÃ©o Ä‘á»ƒ váº½ nÃ©t&#10;â€¢ Size = Ä‘á»™ dÃ y, Color = mÃ u nÃ©t">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
          </button>
          <button type="button" class="btn btn-tool" data-tool="rect"
            data-tooltip="â–­ HÃ¬nh chá»¯ nháº­t&#10;â€¢ Giá»¯ vÃ  kÃ©o Ä‘á»ƒ váº½&#10;â€¢ Color = mÃ u viá»n, Size = Ä‘á»™ dÃ y viá»n">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="5" width="18" height="14" rx="1"/></svg>
          </button>
          <button type="button" class="btn btn-tool" data-tool="ellipse"
            data-tooltip="â—‹ HÃ¬nh elip&#10;â€¢ Giá»¯ vÃ  kÃ©o Ä‘á»ƒ váº½&#10;â€¢ Color = mÃ u viá»n, Size = Ä‘á»™ dÃ y viá»n">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><ellipse cx="12" cy="12" rx="9" ry="6"/></svg>
          </button>
          <button type="button" class="btn btn-tool" data-tool="highlight"
            data-tooltip="ðŸ– Highlight&#10;â€¢ Giá»¯ vÃ  kÃ©o Ä‘á»ƒ tÃ´ vÃ¹ng&#10;â€¢ MÃ u vÃ ng trong suá»‘t">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l-6 6v3h3l6-6"/><path d="M22 4l-3-3-9.5 9.5 3 3L22 4z" fill="#f1c40f" stroke="#f1c40f"/></svg>
          </button>
          <button type="button" class="btn btn-tool" data-tool="cover"
            data-tooltip="â¬œ Che tráº¯ng&#10;â€¢ Giá»¯ vÃ  kÃ©o Ä‘á»ƒ che vÃ¹ng&#10;â€¢ DÃ¹ng Ä‘á»ƒ &quot;xÃ³a&quot; ná»™i dung PDF gá»‘c&#10;â€¢ Xuáº¥t ra lÃ  hÃ¬nh tráº¯ng vector (khÃ´ng viá»n)">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="3" width="18" height="18" rx="2" fill="white" stroke="currentColor"/><line x1="9" y1="9" x2="15" y2="15" stroke="#f7768e" stroke-width="1.5"/><line x1="15" y1="9" x2="9" y2="15" stroke="#f7768e" stroke-width="1.5"/></svg>
          </button>
          <button type="button" class="btn btn-tool" data-tool="sign"
            data-tooltip="âœ’ Chá»¯ kÃ½ tay&#10;â€¢ Giá»¯ vÃ  váº½ chá»¯ kÃ½&#10;â€¢ NÃ©t Ä‘en máº£nh&#10;â€¢ Ctrl+Z Ä‘á»ƒ váº½ láº¡i">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 17c3-2 6-8 9-8s3 6 6 6"/><path d="M17 17l2 2 3-9"/></svg>
          </button>
        </div>
      </div>

      <div class="divider-v"></div>

      <!-- Group: Style -->
      <div class="tool-group">
        <span class="tool-group-label">Style</span>
        <div class="tool-group-btns" style="gap:0.5rem">
          <!-- Color picker + swatches -->
          <div class="color-wrap"
            data-tooltip="MÃ u chá»¯ / viá»n / nÃ©t váº½&#10;â€¢ Click Ã´ mÃ u Ä‘á»ƒ chá»n nhanh&#10;â€¢ Click palette Ä‘á»ƒ má»Ÿ báº£ng mÃ u Ä‘áº§y Ä‘á»§">
            <input type="color" id="strokeColor" value="#e74c3c">
            <div class="color-swatches">
              <span class="swatch" data-color="#000000" style="background:#000000"></span>
              <span class="swatch" data-color="#ffffff" style="background:#ffffff"></span>
              <span class="swatch" data-color="#e74c3c" style="background:#e74c3c"></span>
              <span class="swatch" data-color="#e67e22" style="background:#e67e22"></span>
              <span class="swatch" data-color="#f1c40f" style="background:#f1c40f"></span>
              <span class="swatch" data-color="#2ecc71" style="background:#2ecc71"></span>
              <span class="swatch" data-color="#3498db" style="background:#3498db"></span>
              <span class="swatch" data-color="#9b59b6" style="background:#9b59b6"></span>
              <span class="swatch" data-color="#1abc9c" style="background:#1abc9c"></span>
              <span class="swatch" data-color="#e91e63" style="background:#e91e63"></span>
            </div>
          </div>

          <!-- Stroke size -->
          <label class="stroke-wrap"
            data-tooltip="Äá»™ dÃ y nÃ©t váº½ vÃ  viá»n hÃ¬nh">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/></svg>
            <input type="range" id="strokeWidth" min="1" max="20" value="3">
            <span id="strokeValue" class="stroke-val">3</span>
          </label>

          <!-- Font size -->
          <label class="font-size-wrap"
            data-tooltip="Cá»¡ chá»¯ (pt)&#10;â€¢ Chá»n trÆ°á»›c khi thÃªm text&#10;â€¢ Hoáº·c chá»n text Ä‘Ã£ cÃ³ rá»“i Ä‘á»•i">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M4 7V4h16v3M9 20h6M12 4v16"/></svg>
            <select id="fontSizeSelect">
              <option value="8">8</option>
              <option value="10">10</option>
              <option value="12">12</option>
              <option value="14">14</option>
              <option value="16">16</option>
              <option value="18">18</option>
              <option value="20">20</option>
              <option value="24">24</option>
              <option value="28">28</option>
              <option value="32">32</option>
              <option value="36" selected>36</option>
              <option value="48">48</option>
              <option value="64">64</option>
              <option value="72">72</option>
            </select>
          </label>
        </div>
      </div>

      <div class="divider-v"></div>

      <!-- Group: Actions -->
      <div class="tool-group">
        <span class="tool-group-label">Actions</span>
        <div class="tool-group-btns">
          <button type="button" class="btn btn-action" id="copyObj"
            data-tooltip="Copy (Ctrl+C)&#10;â€¢ Chá»n Ä‘á»‘i tÆ°á»£ng trÆ°á»›c&#10;â€¢ Há»— trá»£ chá»n nhiá»u">
            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            Copy
          </button>
          <button type="button" class="btn btn-action" id="pasteObj"
            data-tooltip="Paste (Ctrl+V)&#10;â€¢ Di chuá»™t Ä‘áº¿n vá»‹ trÃ­ muá»‘n paste&#10;â€¢ Object xuáº¥t hiá»‡n táº¡i con trá»">
            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1"/></svg>
            Paste
          </button>
          <button type="button" class="btn btn-action btn-danger" id="deleteSelected"
            data-tooltip="XÃ³a Ä‘á»‘i tÆ°á»£ng Ä‘ang chá»n&#10;â€¢ Hoáº·c dÃ¹ng phÃ­m Delete&#10;â€¢ Ctrl+Z Ä‘á»ƒ hoÃ n tÃ¡c">
            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"/><path d="M10 11v6M14 11v6"/><path d="M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"/></svg>
            Delete
          </button>
          <button type="button" class="btn btn-action" id="clearPage"
            data-tooltip="XÃ³a toÃ n bá»™ annotation trang hiá»‡n táº¡i&#10;â€¢ KhÃ´ng áº£nh hÆ°á»Ÿng ná»™i dung PDF gá»‘c&#10;â€¢ KhÃ´ng thá»ƒ Ctrl+Z sau khi clear">
            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M8 6V4h8v2"/><path d="M19 6l-1 14H6L5 6"/><path d="M10 11l4 4m0-4l-4 4"/></svg>
            Clear
          </button>
        </div>
      </div>

    </div><!-- /.navbar-tools -->

    <main class="viewport">
      <div class="canvas-wrap" id="canvasWrap">
        <canvas id="pdfCanvas"></canvas>
        <canvas id="fabricCanvas"></canvas>
      </div>
      <p class="hint" id="hint">Open a PDF file to start editing â€” nothing leaves your browser.</p>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script src="app.js"></script>
</body>
</html>
